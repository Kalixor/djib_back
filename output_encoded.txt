-- TABLE OFFICE TAXES : Recettes totales (payés et prévus) ANNUELLE
http://localhost:5000/api/query?sql=SELECT%20STRFTIME%28%27%25Y%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20YEAR%2C%0A%20%20%20%20%20%20%20SUM%28TotalPaidValue%29%20AS%20TotalPaidValue%2C%0A%20%20%20%20%20%20%20SUM%28TotalAssessedValue%29%20AS%20TotalAssessedValue%2C%0AFROM%20df_offices_taxes%0AGROUP%20BY%20YEAR

-- TABLE OFFICE TAXES : Recettes totales (payés et prévus) ANNUELLE avec variations et ecarts
http://localhost:5000/api/query?sql=SELECT%20yd1.Year%2C%0A%20%20%20%20%20%20%20yd1.TotalPaidValue%2C%0A%20%20%20%20%20%20%20yd1.TotalAssessedValue%2C%20--%20Valeur%20de%20l%27ann%C3%A9e%20pr%C3%A9c%C3%A9dente%20%28Previous%29%0A%20yd2.TotalPaidValue%20AS%20Previous%2C%20--%20Variation%20en%20pourcentage%0A%20CASE%20%0A%20%20%20%20%20WHEN%20yd2.TotalPaidValue%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20%20%20AND%20yd2.TotalPaidValue%20%3C%3E%200%20THEN%20%28%28yd1.TotalPaidValue%20-%20yd2.TotalPaidValue%29%20/%20yd2.TotalPaidValue%29%20%2A%20100%20%0A%20%20%20%20%20ELSE%20NULL%20%0A%20END%20AS%20Variation%2C%20--%20%C3%89cart%20entre%20TotalAssessedValue%20et%20TotalPaidValue%0A%20%28yd1.TotalPaidValue%20-%20yd1.TotalAssessedValue%29%20AS%20Ecart%20%0AFROM%20%0A%20%20%28SELECT%20STRFTIME%28%27%25Y%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20YEAR%2C%20%0A%20%20%20%20%20%20%20%20%20%20SUM%28TotalPaidValue%29%20AS%20TotalPaidValue%2C%20%0A%20%20%20%20%20%20%20%20%20%20SUM%28TotalAssessedValue%29%20AS%20TotalAssessedValue%20%0A%20%20%20FROM%20df_offices_taxes%20%0A%20%20%20GROUP%20BY%20YEAR%29%20AS%20yd1%0ALEFT%20JOIN%20%0A%20%20%28SELECT%20STRFTIME%28%27%25Y%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20YEAR%2C%20%0A%20%20%20%20%20%20%20%20%20%20SUM%28TotalPaidValue%29%20AS%20TotalPaidValue%20%0A%20%20%20FROM%20df_offices_taxes%20%0A%20%20%20GROUP%20BY%20YEAR%29%20AS%20yd2%20ON%20CAST%28yd1.Year%20AS%20INTEGER%29%20%3D%20CAST%28yd2.Year%20AS%20INTEGER%29%20%2B%201%20--%20Jointure%20sur%20l%27ann%C3%A9e%20pr%C3%A9c%C3%A9dente%0A%0AORDER%20BY%20yd1.Year%3B

-- TABLE OFFICE TAXES : Recettes totales (payés et prévus) MENSUELLE
http://localhost:5000/api/query?sql=SELECT%20STRFTIME%28%27%25Y-%25m%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20MONTH%2C%0A%20%20%20%20%20%20%20SUM%28TotalPaidValue%29%20AS%20TotalPaidValue%2C%0A%20%20%20%20%20%20%20SUM%28TotalAssessedValue%29%20AS%20TotalAssessedValue%2C%0AFROM%20df_offices_taxes%0AGROUP%20BY%20MONTH%0AORDER%20BY%20MONTH

-- TABLE OFFICE TAXES : Recettes totales (payés et prévus) JOURNALIERE
http://localhost:5000/api/query?sql=SELECT%20STRFTIME%28%27%25Y-%25m-%25d%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20DAY%2C%0A%20%20%20%20%20%20%20SUM%28TotalPaidValue%29%20AS%20TotalPaidValue%2C%0A%20%20%20%20%20%20%20SUM%28TotalAssessedValue%29%20AS%20TotalAssessedValue%2C%0AFROM%20df_offices_taxes%0AGROUP%20BY%20DAY%0AORDER%20BY%20DAY

-- TABLE OFFICE TAXES : Recettes totales (payés et prévus) JOURNALIERE POUR UNE DATE
http://localhost:5000/api/query?sql=SELECT%20STRFTIME%28%27%25Y-%25m-%25d%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20DAY%2C%0A%20%20%20%20%20%20%20SUM%28TotalPaidValue%29%20AS%20TotalPaidValue%2C%0A%20%20%20%20%20%20%20SUM%28TotalAssessedValue%29%20AS%20TotalAssessedValue%2C%0AFROM%20df_offices_taxes%0AWHERE%20CAST%28Date%20AS%20DATE%29%20%3D%20%272024-05-15%27%0AGROUP%20BY%20DAY%0AORDER%20BY%20DAY

-- TABLE OFFICE TAXES : Recettes totales (payés et prévus) JOURNALIERE POUR INTERVAL
http://localhost:5000/api/query?sql=SELECT%20STRFTIME%28%27%25Y-%25m-%25d%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20DAY%2C%0A%20%20%20%20%20%20%20SUM%28TotalPaidValue%29%20AS%20TotalPaidValue%2C%0A%20%20%20%20%20%20%20SUM%28TotalAssessedValue%29%20AS%20TotalAssessedValue%2C%0AFROM%20df_offices_taxes%0AWHERE%20CAST%28Date%20AS%20DATE%29%20BETWEEN%20%272024-05-15%27%20AND%20%272024-06-20%27%0AGROUP%20BY%20DAY%0AORDER%20BY%20DAY

-- TABLE TAXES LIST :Paiements reçus et prévus par Bureau par Taxes JOURNALIER
http://localhost:5000/api/query?sql=SELECT%20CodeOffice%2C%0A%20%20%20%20%20%20%20CodeTaxe%2C%0A%20%20%20%20%20%20%20STRFTIME%28%27%25Y-%25m-%25d%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20DAY%2C%0A%20%20%20%20%20%20%20SUM%28AmountPaid%29%20AS%20AmountPaid%2C%0A%20%20%20%20%20%20%20SUM%28AmountAssessed%29%20AS%20AmountAssessed%2C%0AFROM%20df_taxes%0AGROUP%20BY%20CodeOffice%2C%0A%20%20%20%20%20%20%20%20%20CodeTaxe%2C%0A%20%20%20%20%20%20%20%20%20DAY

-- TABLE TAXES LIST :Paiements reçus et prévus par Bureau et par Taxes HEBDOMADAIRE
http://localhost:5000/api/query?sql=SELECT%20CodeOffice%2C%0A%20%20%20%20%20%20%20CodeTaxe%2C%0A%20%20%20%20%20%20%20STRFTIME%28%27%25Y-%25W%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20WEEK%2C%0A%20%20%20%20%20%20%20SUM%28AmountPaid%29%20AS%20AmountPaid%2C%0A%20%20%20%20%20%20%20SUM%28AmountAssessed%29%20AS%20AmountAssessed%2C%0AFROM%20df_taxes%0AGROUP%20BY%20CodeOffice%2C%0A%20%20%20%20%20%20%20%20%20CodeTaxe%2C%0A%20%20%20%20%20%20%20%20%20WEEK%0AORDER%20BY%20WEEK

-- TABLE TAXES LIST :Paiements reçus et prévus par Bureau et par Taxes MENSUELLE
http://localhost:5000/api/query?sql=SELECT%20CodeOffice%2C%0A%20%20%20%20%20%20%20CodeTaxe%2C%0A%20%20%20%20%20%20%20STRFTIME%28%27%25Y-%25m%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20MONTH%2C%0A%20%20%20%20%20%20%20SUM%28AmountPaid%29%20AS%20AmountPaid%2C%0A%20%20%20%20%20%20%20SUM%28AmountAssessed%29%20AS%20AmountAssessed%2C%0AFROM%20df_taxes%0AGROUP%20BY%20CodeOffice%2C%0A%20%20%20%20%20%20%20%20%20CodeTaxe%2C%0A%20%20%20%20%20%20%20%20%20MONTH%0AORDER%20BY%20MONTH

-- TABLE TAXES LIST :Paiements reçus et prévus par Bureau et par Taxes ANNUELLE
http://localhost:5000/api/query?sql=SELECT%20CodeOffice%2C%0A%20%20%20%20%20%20%20CodeTaxe%2C%0A%20%20%20%20%20%20%20STRFTIME%28%27%25Y%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20YEAR%2C%0A%20%20%20%20%20%20%20SUM%28AmountPaid%29%20AS%20AmountPaid%2C%0A%20%20%20%20%20%20%20SUM%28AmountAssessed%29%20AS%20AmountAssessed%2C%0AFROM%20df_taxes%0AGROUP%20BY%20CodeOffice%2C%0A%20%20%20%20%20%20%20%20%20CodeTaxe%2C%0A%20%20%20%20%20%20%20%20%20YEAR%0AORDER%20BY%20YEAR

-- TABLE DATA OFFICE : Entrées journalières par Bureau par mode de paiement JOURNALIERE
http://localhost:5000/api/query?sql=SELECT%20CodeOffice%2C%0A%20%20%20%20%20%20%20MopCod%2C%0A%20%20%20%20%20%20%20STRFTIME%28%27%25Y-%25m-%25d%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20DAY%2C%0A%20%20%20%20%20%20%20SUM%28TotalAmountIn%29%20AS%20TotalAmountIn%2C%0AFROM%20df_offices%0AGROUP%20BY%20CodeOffice%2C%0A%20%20%20%20%20%20%20%20%20MopCod%2C%0A%20%20%20%20%20%20%20%20%20DAY%0AORDER%20BY%20DAY

-- TABLE DATA OFFICE : Entrées journalières par Bureau par mode de paiement JOURNALIERE
http://localhost:5000/api/query?sql=SELECT%20CodeOffice%2C%0A%20%20%20%20%20%20%20MopCod%2C%0A%20%20%20%20%20%20%20STRFTIME%28%27%25Y-%25m-%25d%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20DAY%2C%0A%20%20%20%20%20%20%20SUM%28TotalAmountIn%29%20AS%20TotalAmountIn%2C%0AFROM%20df_offices%0AGROUP%20BY%20CodeOffice%2C%0A%20%20%20%20%20%20%20%20%20MopCod%2C%0A%20%20%20%20%20%20%20%20%20DAY%0AORDER%20BY%20DAY

-- TABLE DATA OFFICE : Entrées journalières par Bureau par mode de paiement HEBDO
http://localhost:5000/api/query?sql=SELECT%20CodeOffice%2C%0A%20%20%20%20%20%20%20MopCod%2C%0A%20%20%20%20%20%20%20STRFTIME%28%27%25Y-%25W%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20WEEK%2C%0A%20%20%20%20%20%20%20SUM%28TotalAmountIn%29%20AS%20TotalAmountIn%2C%0AFROM%20df_offices%0AGROUP%20BY%20CodeOffice%2C%0A%20%20%20%20%20%20%20%20%20MopCod%2C%0A%20%20%20%20%20%20%20%20%20WEEK%0AORDER%20BY%20WEEK

-- TABLE DATA OFFICE : Entrées journalières par Bureau par mode de paiement MENSUELLE
http://localhost:5000/api/query?sql=SELECT%20CodeOffice%2C%0A%20%20%20%20%20%20%20MopCod%2C%0A%20%20%20%20%20%20%20STRFTIME%28%27%25Y-%25m%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20MONTH%2C%0A%20%20%20%20%20%20%20SUM%28TotalAmountIn%29%20AS%20TotalAmountIn%2C%0AFROM%20df_offices%0AGROUP%20BY%20CodeOffice%2C%0A%20%20%20%20%20%20%20%20%20MopCod%2C%0A%20%20%20%20%20%20%20%20%20MONTH%0AORDER%20BY%20MONTH

-- TABLE DATA OFFICE : Entrées journalières par Bureau par mode de paiement ANNUELLE
http://localhost:5000/api/query?sql=SELECT%20CodeOffice%2C%0A%20%20%20%20%20%20%20MopCod%2C%0A%20%20%20%20%20%20%20STRFTIME%28%27%25Y%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20YEAR%2C%0A%20%20%20%20%20%20%20SUM%28TotalAmountIn%29%20AS%20TotalAmountIn%2C%0AFROM%20df_offices%0AGROUP%20BY%20CodeOffice%2C%0A%20%20%20%20%20%20%20%20%20MopCod%2C%0A%20%20%20%20%20%20%20%20%20YEAR%0AORDER%20BY%20YEAR

-- TABLE DATA OFFICE :  CodeOffice par OfficeName
http://localhost:5000/api/query?sql=SELECT%20DISTINCT%20CodeOffice%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20OfficeName%2C%0AFROM%20df_offices_taxes

-- TABLE DATA OFFICE :  CodeOffice par OfficeName
http://localhost:5000/api/query?sql=SELECT%20DISTINCT%20CodeOffice%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20OfficeName%2C%0AFROM%20df_offices_taxes%0AWHERE%20OfficeName%20IS%20NOT%20NULL

-- TABLE DATA OFFICE :  CodeTax  par TaxDescription
http://localhost:5000/api/query?sql=SELECT%20DISTINCT%20CodeTaxe%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20TaxeDescription%2C%0AFROM%20df_taxes%0AWHERE%20TaxeDescription%20IS%20NOT%20NULL

-- Total payé POUR un bureau POUR une taxe (ANNUEL...)
http://localhost:5000/api/query?sql=SELECT%20CodeOffice%2C%0A%20%20%20%20%20%20%20CodeTaxe%2C%0A%20%20%20%20%20%20%20STRFTIME%28%27%25Y%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20YEAR%2C%20--%20STRFTIME%28%27%25Y-%25W%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20Week%2C%0A%20--%20STRFTIME%28%27%25Y-%25m%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20Month%2C%0A%20--%20STRFTIME%28%27%25Y-%25m-%25d%27%2C%20CAST%28Date%20AS%20DATE%29%29%20AS%20Day%2C%0A%20SUM%28AmountPaid%29%20AS%20TotalAmountPaid%0AFROM%20df_taxes%0AWHERE%20--%20Filtre%20sur%20l%27ann%C3%A9e%202024%20%3A%20YEAR%28CAST%28Date%20AS%20DATE%29%29%20%3D%202024%0A%20CodeOffice%20%3D%20%27DJPRT%27%20--%20Filtre%20sur%20un%20bureau%20sp%C3%A9cifique%0A%20%0A%20%20AND%20CodeTaxe%20%3D%20%27DAL%27%20--%20Filtre%20sur%20une%20taxe%20sp%C3%A9cifique%0AGROUP%20BY%20CodeOffice%2C%0A%20%20%20%20%20%20%20%20%20CodeTaxe%2C%0A%20%20%20%20%20%20%20%20%20YEAR%0AORDER%20BY%20CodeOffice%2C%0A%20%20%20%20%20%20%20%20%20YEAR%2C%0A%20%20%20%20%20%20%20%20%20CodeTaxe%3B

